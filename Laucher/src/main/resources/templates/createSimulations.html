<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"></meta>
<title>Simulations</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/simulations.css}"
	href="../../css/simulations.css" />
<link rel="stylesheet" type="text/css" th:href="@{/css/common.css}"
	href="../../css/common.css" />
<link rel="stylesheet" type="text/css" th:href="@{/css/loader.css}"
	href="../../css/loader.css" />

<!-- Thymus script -->
<script src="@{/js/thymus.js}" id="thymus" data-thx-base-path="."></script>
</head>
<body>
	<div id="topBar">
		<div id="ios-arrow-container">
			<div id="ios-arrow-left" title="Home">
				<a href="/"
					style="width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 1000;"></a>
			</div>
		</div>
		<h3>FIFO SIMULATIONS</h3>
		<div
			style="width: 100%; height: 1px; background-color: white; position: absolute; top: 20px; z-index: 0;"></div>
	</div>
	<div id="pageContent">
		<h1>Simulations Created!</h1>


		<form id="form" action="createSimulations"
			th:action="@{createSimulations}" th:object="${sim_manager}"
			method="post" style="display: table; margin: 0 auto;">
			<button onclick="submitForm()" type="submit">Run Simulations</button>
			<h2 style="color: #31bc86; margin-top: 50px;">Simulations
				classes</h2>
			<h3
				th:text="${sim_manager.size + ' simulations will be executed, with accuracy=100-' + sim_manager.accuracy + '[%] and Erlang=' + sim_manager.erlang + ' user_step=' + sim_manager.stepUsrs + ' cores_step='+ sim_manager.stepCores} "
				style="color: #A6A6A6;">Simlations will be executed</h3>
			<div class="resultContainer">
				<table>
					<thead>
						<tr>
							<th>Map Time[ms]</th>
							<th>Reduce Time[ms]</th>
							<th>Think Time[ms]</th>
							<th>Map Rate[1/ms]</th>
							<th>Reduce Rate[1/ms]</th>
							<th>Think Rate[1/ms]</th>
							<th>Map</th>
							<th>Reduce</th>
							<th>Cores</th>
							<th>Users</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="classList: ${sim_manager.classList}">
							<td th:text="${classList['mapTime']}">Map Time[ms]</td>
							<td th:text="${classList['reduceTime']}">Reduce Time[ms]</td>
							<td th:text="${classList['thinkTime']}">Think Time[ms]</td>
							<td th:text="${classList['mapRate']}">Map Rate[1/ms]</td>
							<td th:text="${classList['reduceRate']}">Reduce Time[1/ms]</td>
							<td th:text="${classList['thinkRate']}">Think Rate[1/ms]</td>
							<td th:text="${classList['map']}">Map</td>
							<td th:text="${classList['reduce']}">Reduce</td>
							<td th:text="${classList['minNumCores']+'-'+classList['maxNumCores']}">Cores</td>
							<td th:text="${classList['minNumUsers']+'-'+classList['maxNumUsers']}">Users</td>
						</tr>
					</tbody>
				</table>
			</div>
		</form>
	</div>
	<div id="load" style="display: none;">
		<h1>Executing simulations...</h1>
		<div class="container">
			<div class="clear-loading loading-effect-1">
				<span></span><span></span><span></span>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		function redirect() {
			window.location.replace("/listV7");
		}
		function submitForm() {
			document.getElementById("pageContent").className = 'hidden';
			document.getElementById("load").style.display = 'block';
			setTimeout(redirect, 5000);
		}
	</script>
</body>
</html>